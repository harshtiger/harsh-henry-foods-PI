{"ast":null,"code":"import { GET_RECIPES, FILTER_BY_DIET, GET_TYPES_OF_DIET, ORDER_BY_NAME, ORDER_BY_SCORE_LIKES, GET_NAME_RECIPE, GET_DIETS, POST_RECIPE, GET_DETAIL, ERROR_OCURRED, CLEAR_ERROR, CLEAR_DETAILS, PAG_INDEXES, DELETERECIPE } from \"../actions\";\nconst initialState = {\n  recipes: [],\n  allRecipes: [],\n  diets: [],\n  detail: [],\n  error: \"\",\n  indexOfFirstRecipe: 0,\n  indexOfLastRecipe: 9\n};\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_RECIPES:\n      return { ...state,\n        recipes: action.payload,\n        allRecipes: action.payload\n      };\n\n    case ERROR_OCURRED:\n      return { ...state,\n        error: action.payload\n      };\n\n    case CLEAR_ERROR:\n      return { ...state,\n        error: ''\n      };\n\n    case GET_TYPES_OF_DIET:\n      return { ...state,\n        diets: action.payload\n      };\n\n    case PAG_INDEXES:\n      return { ...state,\n        indexOfFirstRecipe: action.payload.indexOfFirstRecipe,\n        indexOfLastRecipe: action.payload.indexOfLastRecipe\n      };\n\n    case DELETERECIPE:\n      {\n        return { ...state,\n          recipes: state.recipes.filter(recipe => recipe.id !== action.payload),\n          allRecipes: state.allRecipes.filter(recipe => recipe.id !== action.payload)\n        };\n      }\n\n    case FILTER_BY_DIET:\n      let allRecipes = state.allRecipes;\n      const recipesApi = allRecipes.filter(r => !r.createdDb);\n      const filteredRecipesApi = recipesApi.filter(r => r.diets.includes(action.payload));\n      const recipeDb = allRecipes.filter(r => r.createdDb);\n      const filteredRecipeDb = recipeDb.filter(r => r.diets.name === action.payload);\n      const filtered = filteredRecipeDb.concat(filteredRecipesApi);\n      const vegetarianApi = allRecipes.filter(r => r.vegetarian === true);\n      const vegetarianDb = recipeDb.filter(r => r.diets.name === \"vegetarian\");\n      const vegetarian = vegetarianDb.concat(vegetarianApi);\n      const ternario = action.payload === \"vegetarian\" ? vegetarian : filtered;\n      return { ...state,\n        recipes: action.payload === \"default\" ? allRecipes : ternario\n      };\n\n    case ORDER_BY_NAME:\n      let sortedRecipes = action.payload === \"A-Z\" ? state.recipes.sort(function (a, b) {\n        if (a.title.toLowerCase() > b.title.toLowerCase()) {\n          return 1;\n        }\n\n        if (b.title.toLowerCase() > a.title.toLowerCase()) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (a.title.toLowerCase() < b.title.toLowerCase()) {\n          return 1;\n        }\n\n        if (b.title.toLowerCase() < a.title.toLowerCase()) {\n          return -1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        recipes: action.payload === \"default\" ? state.recipes : sortedRecipes\n      };\n\n    case ORDER_BY_SCORE_LIKES:\n      let orderedRecipes = action.payload === \"Desc\" ? state.recipes.sort((a, b) => a.aggregateLikes - b.aggregateLikes) : state.recipes.sort((a, b) => b.aggregateLikes - a.aggregateLikes);\n      return { ...state,\n        recipes: action.payload === \"All\" ? state.recipes : orderedRecipes\n      };\n\n    case GET_NAME_RECIPE:\n      return { ...state,\n        recipes: action.payload\n      };\n\n    case GET_DIETS:\n      return { ...state,\n        diets: action.payload\n      };\n\n    case POST_RECIPE:\n      return { ...state\n      };\n\n    case GET_DETAIL:\n      return { ...state,\n        detail: action.payload\n      };\n\n    case CLEAR_DETAILS:\n      return { ...state,\n        detail: []\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;","map":{"version":3,"sources":["C:/Users/ttige/Desktop/harsh/client/src/reducer/index.js"],"names":["GET_RECIPES","FILTER_BY_DIET","GET_TYPES_OF_DIET","ORDER_BY_NAME","ORDER_BY_SCORE_LIKES","GET_NAME_RECIPE","GET_DIETS","POST_RECIPE","GET_DETAIL","ERROR_OCURRED","CLEAR_ERROR","CLEAR_DETAILS","PAG_INDEXES","DELETERECIPE","initialState","recipes","allRecipes","diets","detail","error","indexOfFirstRecipe","indexOfLastRecipe","rootReducer","state","action","type","payload","filter","recipe","id","recipesApi","r","createdDb","filteredRecipesApi","includes","recipeDb","filteredRecipeDb","name","filtered","concat","vegetarianApi","vegetarian","vegetarianDb","ternario","sortedRecipes","sort","a","b","title","toLowerCase","orderedRecipes","aggregateLikes"],"mappings":"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","sourcesContent":["import {\r\n  GET_RECIPES,\r\n  FILTER_BY_DIET,\r\n  GET_TYPES_OF_DIET,\r\n  ORDER_BY_NAME,\r\n  ORDER_BY_SCORE_LIKES,\r\n  GET_NAME_RECIPE,\r\n  GET_DIETS,\r\n  POST_RECIPE,\r\n  GET_DETAIL,\r\n  ERROR_OCURRED,\r\n  CLEAR_ERROR,\r\n  CLEAR_DETAILS,\r\n\r\n  PAG_INDEXES,\r\n  DELETERECIPE, \r\n\r\n} from \"../actions\";\r\n\r\nconst initialState = {\r\n  recipes: [],\r\n  allRecipes: [],\r\n  diets: [],\r\n  detail: [],\r\n  error:\"\",\r\n  indexOfFirstRecipe: 0,\r\n  indexOfLastRecipe: 9,\r\n  \r\n};\r\n\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_RECIPES:\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n        allRecipes: action.payload,\r\n      };\r\n      case ERROR_OCURRED:\r\n        return {\r\n            ...state,\r\n            error: action.payload\r\n        }\r\n\r\n        case CLEAR_ERROR:\r\n          return {\r\n              ...state,\r\n              error: ''\r\n          }\r\n\r\n\r\n    case GET_TYPES_OF_DIET:\r\n      return {\r\n        ...state,\r\n        diets: action.payload,\r\n      };\r\n\r\n\r\n      case PAG_INDEXES: \r\n        return {\r\n          ...state,\r\n          indexOfFirstRecipe: action.payload.indexOfFirstRecipe,\r\n          indexOfLastRecipe: action.payload.indexOfLastRecipe,\r\n        };\r\n\r\n        case DELETERECIPE: {\r\n          return {\r\n            ...state,\r\n            recipes: state.recipes.filter(recipe => recipe.id !== action.payload),\r\n            allRecipes: state.allRecipes.filter(recipe => recipe.id !== action.payload),\r\n          };\r\n        }\r\n\r\n      \r\n    case FILTER_BY_DIET:\r\n      let allRecipes = state.allRecipes;\r\n      const recipesApi = allRecipes.filter((r) => !r.createdDb);\r\n      const filteredRecipesApi = recipesApi.filter((r) =>\r\n        r.diets.includes(action.payload)\r\n      );\r\n      const recipeDb = allRecipes.filter((r) => r.createdDb);\r\n      const filteredRecipeDb = recipeDb.filter(\r\n        (r) => r.diets.name === action.payload\r\n      );\r\n      const filtered = filteredRecipeDb.concat(filteredRecipesApi);\r\n      const vegetarianApi = allRecipes.filter((r) => r.vegetarian === true);\r\n      const vegetarianDb = recipeDb.filter(\r\n        (r) => r.diets.name === \"vegetarian\"\r\n      );\r\n      const vegetarian = vegetarianDb.concat(vegetarianApi);\r\n      const ternario = action.payload === \"vegetarian\" ? vegetarian : filtered;\r\n\r\n      return {\r\n        ...state,\r\n        recipes: action.payload === \"default\" ? allRecipes : ternario,\r\n        \r\n      };\r\n    case ORDER_BY_NAME:\r\n     \r\n      let sortedRecipes =\r\n        action.payload === \"A-Z\"\r\n          ? state.recipes.sort(function (a, b) {\r\n              if (a.title.toLowerCase() > b.title.toLowerCase()) {\r\n                return 1;\r\n              }\r\n              if (b.title.toLowerCase() > a.title.toLowerCase()) {\r\n                return -1;\r\n              }\r\n              return 0;\r\n            })\r\n          : state.recipes.sort(function (a, b) {\r\n              if (a.title.toLowerCase() < b.title.toLowerCase()) {\r\n                return 1;\r\n              }\r\n              if (b.title.toLowerCase() < a.title.toLowerCase()) {\r\n                return -1;\r\n              }\r\n              return 0;\r\n            });\r\n      return {\r\n        ...state,\r\n        recipes: action.payload === \"default\" ? state.recipes : sortedRecipes,\r\n      };\r\n    case ORDER_BY_SCORE_LIKES:\r\n      let orderedRecipes =\r\n        action.payload === \"Desc\"\r\n          ? state.recipes.sort((a, b) => a.aggregateLikes - b.aggregateLikes)\r\n          : state.recipes.sort((a, b) => b.aggregateLikes - a.aggregateLikes);\r\n      return {\r\n        ...state,\r\n        recipes: action.payload === \"All\" ? state.recipes : orderedRecipes,\r\n      };\r\n    case GET_NAME_RECIPE:\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n      };\r\n    case GET_DIETS:\r\n      return {\r\n        ...state,\r\n        diets: action.payload,\r\n      };\r\n    case POST_RECIPE:\r\n      return {\r\n        ...state,\r\n      };\r\n    case GET_DETAIL:\r\n      return {\r\n        ...state,\r\n        detail: action.payload,\r\n      };\r\n\r\n      case CLEAR_DETAILS:\r\n        return {\r\n            ...state,\r\n            detail: []\r\n        }\r\n\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default rootReducer;\r\n"]},"metadata":{},"sourceType":"module"}