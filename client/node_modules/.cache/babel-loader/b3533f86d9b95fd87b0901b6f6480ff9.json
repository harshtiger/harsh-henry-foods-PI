{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ttige\\\\Desktop\\\\harsh\\\\client\\\\src\\\\components\\\\Paginate\\\\Paginate.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./Paginate.css\"; //action \n\nimport { setPagIndexes } from \"../../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Paginate() {\n  _s();\n\n  const dispatch = useDispatch();\n  const allRecipes = useSelector(state => state.recipes.length);\n  const [currentPage, setCurrentPage] = useState(1);\n  const recipesPerPage = 9;\n  const indexLastRecipe = currentPage * recipesPerPage;\n  const indexFirstRecipe = indexLastRecipe - recipesPerPage;\n  const pagesDisplayLimit = 5;\n  const [maxPageDisplay, setMaxPageDisplay] = useState(5);\n  const [minPageDisplay, setMinPageDisplay] = useState(1); // actualizo el state del store con index last e index first\n\n  useEffect(() => dispatch(setPaginationIndexes(indexLastRecipe, indexFirstRecipe)), [indexLastRecipe, indexFirstRecipe, dispatch]); //* Reset to first page when recipes changes\n\n  useEffect(() => {\n    setCurrentPage(1);\n    setMaxPageDisplay(5);\n    setMinPageDisplay(1);\n  }, [allRecipes]); //* Calculate number of posssible pages\n\n  const pageNumbers = [];\n\n  for (let i = 1; i <= Math.ceil(allRecipes / recipesPerPage); i++) {\n    pageNumbers.push(i);\n  } //* paso de pagina con click\n\n\n  const handleClick = e => {\n    setCurrentPage(Number(e.target.id));\n  }; //* functions to pass to prev/next page\n\n\n  const handleSupPrev = () => {\n    if (currentPage !== 1) {\n      setCurrentPage(1);\n      setMaxPageDisplay(5);\n      setMinPageDisplay(1);\n    }\n  };\n\n  const handlePrev = () => {\n    if (currentPage !== 1) {\n      setCurrentPage(currentPage - 1);\n\n      if (currentPage - 1 < minPageDisplay) {\n        setMaxPageDisplay(maxPageDisplay - pagesDisplayLimit < 5 ? 5 : maxPageDisplay - pagesDisplayLimit);\n        setMinPageDisplay(minPageDisplay - pagesDisplayLimit <= 0 ? 1 : minPageDisplay - pagesDisplayLimit);\n      }\n    }\n  };\n\n  const handleNext = () => {\n    if (currentPage !== pageNumbers.length) {\n      setCurrentPage(currentPage + 1);\n\n      if (currentPage + 1 > maxPageDisplay) {\n        setMaxPageDisplay(maxPageDisplay + pagesDisplayLimit);\n        setMinPageDisplay(minPageDisplay + pagesDisplayLimit);\n      }\n    }\n  };\n\n  const handleSupNext = () => {\n    const lastPage = pageNumbers.length;\n\n    if (currentPage !== lastPage) {\n      setCurrentPage(lastPage);\n      setMaxPageDisplay(lastPage);\n      setMinPageDisplay(lastPage - pagesDisplayLimit + 1);\n    }\n  };\n\n  return (\n    /*#__PURE__*/\n\n    /*<nav className=\"btnPag\">\r\n       {pageNumbers &&\r\n         pageNumbers.map((number) => (\r\n         <button key={number} onClick={() => paginate(number)}>\r\n             {number}\r\n           </button>\r\n         ))}\r\n     </nav>\r\n    );*/\n    _jsxDEV(\"nav\", {\n      children: pageNumbers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: handleSupPrev,\n          children: \"<<\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: handlePrev,\n          children: \"<\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), pageNumbers === null || pageNumbers === void 0 ? void 0 : pageNumbers.map(number => {\n          if (number <= maxPageDisplay && number >= minPageDisplay) {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              id: number,\n              className: currentPage === number ? \"active\" : null,\n              onClick: handleClick,\n              children: number\n            }, number, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this);\n          } else {\n            return null;\n          }\n        }), /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: handleNext,\n          children: \">\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: handleSupNext,\n          children: \">>\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 3\n    }, this)\n  );\n}\n\n_s(Paginate, \"YTen9/st/R5q4BuZwuXtzZiKqAQ=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Paginate;\n\nvar _c;\n\n$RefreshReg$(_c, \"Paginate\");","map":{"version":3,"sources":["C:/Users/ttige/Desktop/harsh/client/src/components/Paginate/Paginate.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","setPagIndexes","Paginate","dispatch","allRecipes","state","recipes","length","currentPage","setCurrentPage","recipesPerPage","indexLastRecipe","indexFirstRecipe","pagesDisplayLimit","maxPageDisplay","setMaxPageDisplay","minPageDisplay","setMinPageDisplay","setPaginationIndexes","pageNumbers","i","Math","ceil","push","handleClick","e","Number","target","id","handleSupPrev","handlePrev","handleNext","handleSupNext","lastPage","map","number"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport \"./Paginate.css\";\r\n\r\n//action \r\nimport { setPagIndexes } from \"../../actions\";\r\n\r\n\r\n\r\nexport default function Paginate() {\r\n\r\nconst dispatch = useDispatch();\r\nconst allRecipes = useSelector(state => state.recipes.length);\r\nconst [currentPage, setCurrentPage] = useState(1);\r\nconst recipesPerPage = 9;\r\nconst indexLastRecipe = currentPage * recipesPerPage;\r\nconst indexFirstRecipe = indexLastRecipe - recipesPerPage;\r\nconst pagesDisplayLimit = 5;\r\nconst [maxPageDisplay, setMaxPageDisplay] = useState(5); \r\nconst [minPageDisplay, setMinPageDisplay] = useState(1);\r\n\r\n  // actualizo el state del store con index last e index first\r\n  useEffect(\r\n    () => dispatch(setPaginationIndexes(indexLastRecipe, indexFirstRecipe)),\r\n    [indexLastRecipe, indexFirstRecipe, dispatch]\r\n  );\r\n\r\n  //* Reset to first page when recipes changes\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n    setMaxPageDisplay(5);\r\n    setMinPageDisplay(1);\r\n  }, [allRecipes]);\r\n\r\n  //* Calculate number of posssible pages\r\n  const pageNumbers = [];\r\n  for (let i = 1; i <= Math.ceil(allRecipes / recipesPerPage); i++) {\r\n    pageNumbers.push(i);\r\n  }\r\n\r\n  //* paso de pagina con click\r\n  const handleClick = e => {\r\n    setCurrentPage(Number(e.target.id));\r\n  };\r\n\r\n  //* functions to pass to prev/next page\r\n  const handleSupPrev = () => {\r\n    if (currentPage !== 1) {\r\n      setCurrentPage(1);\r\n      setMaxPageDisplay(5);\r\n      setMinPageDisplay(1);\r\n    }\r\n  };\r\n\r\n  const handlePrev = () => {\r\n    if (currentPage !== 1) {\r\n      setCurrentPage(currentPage - 1);\r\n      if (currentPage - 1 < minPageDisplay) {\r\n        setMaxPageDisplay(\r\n          maxPageDisplay - pagesDisplayLimit < 5 ? 5 : maxPageDisplay - pagesDisplayLimit\r\n        );\r\n        setMinPageDisplay(\r\n          minPageDisplay - pagesDisplayLimit <= 0 ? 1 : minPageDisplay - pagesDisplayLimit\r\n        );\r\n      }\r\n    }\r\n  };\r\n  \r\n\r\n  const handleNext = () => {\r\n    if (currentPage !== pageNumbers.length) {\r\n      setCurrentPage(currentPage + 1);\r\n      if (currentPage + 1 > maxPageDisplay) {\r\n        setMaxPageDisplay(maxPageDisplay + pagesDisplayLimit);\r\n        setMinPageDisplay(minPageDisplay + pagesDisplayLimit);\r\n      }\r\n    }\r\n  };\r\n  const handleSupNext = () => {\r\n    const lastPage = pageNumbers.length;\r\n    if (currentPage !== lastPage) {\r\n      setCurrentPage(lastPage);\r\n      setMaxPageDisplay(lastPage);\r\n      setMinPageDisplay(lastPage - pagesDisplayLimit + 1);\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n   /*<nav className=\"btnPag\">\r\n      {pageNumbers &&\r\n        pageNumbers.map((number) => (\r\n        <button key={number} onClick={() => paginate(number)}>\r\n            {number}\r\n          </button>\r\n        ))}\r\n    </nav>\r\n  );*/\r\n\r\n  <nav>\r\n      {pageNumbers.length === 0 ? (\r\n        <p></p>\r\n      ) : (\r\n        <ul>\r\n          <li onClick={handleSupPrev}>{\"<<\"}</li>\r\n          <li onClick={handlePrev}>{\"<\"}</li>\r\n          {pageNumbers?.map(number => {\r\n            if (number <= maxPageDisplay && number >= minPageDisplay) {\r\n              return (\r\n                <li\r\n                  key={number}\r\n                  id={number}\r\n                  className={currentPage === number ? \"active\" : null}\r\n                  onClick={handleClick}\r\n                >\r\n                  {number}\r\n                </li>\r\n              );\r\n            } else {\r\n              return null;\r\n            }\r\n          })}\r\n          <li onClick={handleNext}>{\">\"}</li>\r\n          <li onClick={handleSupNext}>{\">>\"}</li>\r\n        </ul>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}