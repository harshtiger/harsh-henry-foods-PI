{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ttige\\\\Desktop\\\\harsh\\\\client\\\\src\\\\components\\\\Paginate\\\\Paginate.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./Paginate.css\"; //action \n\nimport { setPagIndexes } from \"../../actions/index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Paginate(_ref) {\n  _s();\n\n  let {\n    paginate,\n    handleNext,\n    handleSupNext\n  } = _ref;\n  const dispatch = useDispatch();\n  const allRecipes = useSelector(state => state.recipes.length); // \n\n  const [currentPage, setCurrentPage] = useState(1);\n  const recipesPerPage = 9;\n  const indexOfLastRecipe = currentPage * recipesPerPage;\n  const indexOfFirstRecipe = indexOfLastRecipe - recipesPerPage;\n  const pagesDisplayLimit = 5;\n  const [maxPageDisplay, setMaxPageDisplay] = useState(5);\n  const [minPageDisplay, setMinPageDisplay] = useState(1); // actualizo el state del store con index last e index first\n\n  useEffect(() => dispatch(setPagIndexes(indexOfLastRecipe, indexOfFirstRecipe)), [indexOfLastRecipe, indexOfFirstRecipe, dispatch]); //* Reset to first page when recipes changes\n\n  useEffect(() => {\n    setCurrentPage(1);\n    setMaxPageDisplay(5);\n    setMinPageDisplay(1);\n  }, [allRecipes]); //* Calculate number of posssible pages\n\n  const pageNumbers = [];\n\n  for (let i = 1; i <= Math.ceil(allRecipes / recipesPerPage); i++) {\n    pageNumbers.push(i);\n  } //* functions to pass to prev/next page\n\n\n  const handleSupPrev = () => {\n    if (currentPage !== 1) {\n      setCurrentPage(1);\n      setMaxPageDisplay(5);\n      setMinPageDisplay(1);\n    }\n  };\n\n  const handlePrev = () => {\n    console.log(\"owo\");\n\n    if (currentPage !== 1) {\n      setCurrentPage(currentPage - 1);\n\n      if (currentPage - 1 < minPageDisplay) {\n        setMaxPageDisplay(maxPageDisplay - pagesDisplayLimit < 5 ? 5 : maxPageDisplay - pagesDisplayLimit);\n        setMinPageDisplay(minPageDisplay - pagesDisplayLimit <= 0 ? 1 : minPageDisplay - pagesDisplayLimit);\n      }\n    }\n  };\n\n  return (\n    /*#__PURE__*/\n\n    /*<nav className=\"btnPag\">\r\n       {pageNumbers &&\r\n         pageNumbers.map((number) => (\r\n         <button key={number} onClick={() => paginate(number)}>\r\n             {number}\r\n           </button>\r\n         ))}\r\n     </nav>\r\n    );*/\n    _jsxDEV(\"nav\", {\n      className: \"btnPag\",\n      children: pageNumbers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSupPrev,\n          children: \"<<\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePrev,\n          children: \"<\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), pageNumbers === null || pageNumbers === void 0 ? void 0 : pageNumbers.map(number => {\n          if (number <= maxPageDisplay && number >= minPageDisplay) {\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              id: number //className={currentPage === number ? \"active\" : null}\n              ,\n              onClick: () => paginate(number),\n              children: number\n            }, number, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this);\n          } else {\n            return null;\n          }\n        }), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleNext(currentPage),\n          children: \">\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSupNext(currentPage),\n          children: \">>\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 3\n    }, this)\n  );\n}\n\n_s(Paginate, \"YTen9/st/R5q4BuZwuXtzZiKqAQ=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Paginate;\n\nvar _c;\n\n$RefreshReg$(_c, \"Paginate\");","map":{"version":3,"sources":["C:/Users/ttige/Desktop/harsh/client/src/components/Paginate/Paginate.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","setPagIndexes","Paginate","paginate","handleNext","handleSupNext","dispatch","allRecipes","state","recipes","length","currentPage","setCurrentPage","recipesPerPage","indexOfLastRecipe","indexOfFirstRecipe","pagesDisplayLimit","maxPageDisplay","setMaxPageDisplay","minPageDisplay","setMinPageDisplay","pageNumbers","i","Math","ceil","push","handleSupPrev","handlePrev","console","log","map","number"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport \"./Paginate.css\";\r\n\r\n//action \r\nimport {setPagIndexes} from \"../../actions/index\";\r\n\r\n\r\n\r\nexport default function Paginate({paginate, handleNext, handleSupNext}) {\r\n\r\nconst dispatch = useDispatch();\r\nconst allRecipes = useSelector(state => state.recipes.length);\r\n\r\n// \r\n\r\nconst [currentPage, setCurrentPage] = useState(1);\r\nconst recipesPerPage= 9;\r\nconst indexOfLastRecipe = currentPage * recipesPerPage;   \r\nconst indexOfFirstRecipe = indexOfLastRecipe - recipesPerPage;\r\n\r\n\r\n\r\nconst pagesDisplayLimit = 5;\r\nconst [maxPageDisplay, setMaxPageDisplay] = useState(5); \r\nconst [minPageDisplay, setMinPageDisplay] = useState(1);\r\n\r\n  // actualizo el state del store con index last e index first\r\n  useEffect(\r\n    () => dispatch(setPagIndexes(indexOfLastRecipe, indexOfFirstRecipe)),\r\n    [indexOfLastRecipe, indexOfFirstRecipe, dispatch]\r\n  );\r\n\r\n  //* Reset to first page when recipes changes\r\n useEffect(() => {\r\n    setCurrentPage(1);\r\n    setMaxPageDisplay(5);\r\n    setMinPageDisplay(1);\r\n  }, [allRecipes]);\r\n\r\n  //* Calculate number of posssible pages\r\n  const pageNumbers = [];\r\n  for (let i = 1; i <= Math.ceil(allRecipes / recipesPerPage); i++) {\r\n    pageNumbers.push(i);\r\n  }\r\n\r\n  \r\n\r\n\r\n  //* functions to pass to prev/next page\r\n  const handleSupPrev = () => {\r\n    \r\n    if (currentPage !== 1) {\r\n      setCurrentPage(1);\r\n      setMaxPageDisplay(5);\r\n      setMinPageDisplay(1);\r\n      \r\n    }\r\n  };\r\n\r\n  const handlePrev = () => {\r\n    console.log(\"owo\")\r\n    if (currentPage !== 1) {\r\n      setCurrentPage(currentPage - 1);\r\n      if (currentPage - 1 < minPageDisplay) {\r\n        setMaxPageDisplay(\r\n          maxPageDisplay - pagesDisplayLimit < 5 ? 5 : maxPageDisplay - pagesDisplayLimit\r\n        );\r\n        setMinPageDisplay(\r\n          minPageDisplay - pagesDisplayLimit <= 0 ? 1 : minPageDisplay - pagesDisplayLimit\r\n        );\r\n      }\r\n    }\r\n  };\r\n  \r\n\r\n  \r\n\r\n  \r\n\r\n  return (\r\n   /*<nav className=\"btnPag\">\r\n      {pageNumbers &&\r\n        pageNumbers.map((number) => (\r\n        <button key={number} onClick={() => paginate(number)}>\r\n            {number}\r\n          </button>\r\n        ))}\r\n    </nav>\r\n  );*/\r\n\r\n  <nav className=\"btnPag\">\r\n      {pageNumbers.length === 0 ? (\r\n        <p></p>\r\n      ) : (\r\n        <div>\r\n          <button onClick={handleSupPrev}>{\"<<\"}</button>\r\n          <button onClick={handlePrev}>{\"<\"}</button>\r\n          {pageNumbers?.map(number => {\r\n            if (number <= maxPageDisplay && number >= minPageDisplay) {\r\n              return (\r\n                <button\r\n                  key={number}\r\n                  id={number}\r\n                  //className={currentPage === number ? \"active\" : null}\r\n                  onClick={() => paginate(number)}\r\n                >\r\n                  {number}\r\n                </button>\r\n              );\r\n            } else {\r\n              return null;\r\n            }\r\n          })}\r\n          <button onClick={()=> handleNext(currentPage)}>{\">\"}</button>\r\n          <button onClick={()=> handleSupNext(currentPage)}>{\">>\"}</button>\r\n        </div>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}